# Automated Backup Configuration for MICHELA Firestore

# This file contains example cron job configurations for automated backups
# Copy and adjust according to your environment

# ============================================================================
# Daily Backup at 2:00 AM (Production)
# ============================================================================
# 0 2 * * * cd /path/to/michela/backend && /usr/bin/python3 scripts/backup_firestore.py --environment production
#
# This will create daily backups in backend/scripts/backups/production_YYYY-MM-DD_HH-MM-SS/

# ============================================================================
# Weekly Backup at 3:00 AM on Sundays (Staging)
# ============================================================================
# 0 3 * * 0 cd /path/to/michela/backend && /usr/bin/python3 scripts/backup_firestore.py --environment staging
#
# This will create weekly backups in backend/scripts/backups/staging_YYYY-MM-DD_HH-MM-SS/

# ============================================================================
# Hourly Backup during business hours (9 AM - 6 PM, weekdays)
# ============================================================================
# 0 9-18 * * 1-5 cd /path/to/michela/backend && /usr/bin/python3 scripts/backup_firestore.py --environment production
#
# This creates hourly backups during critical business hours

# ============================================================================
# Setup Instructions
# ============================================================================

# 1. Edit your crontab:
#    crontab -e

# 2. Add desired backup schedule from above (uncomment and adjust paths)

# 3. Ensure Python and required packages are installed:
#    pip install -r requirements.txt

# 4. Set environment variables (if not using .env files):
#    export GOOGLE_CREDENTIALS='{"type":"service_account", ...}'

# 5. Test the script manually first:
#    python scripts/backup_firestore.py --environment production

# ============================================================================
# Backup Retention Policy
# ============================================================================

# Keep daily backups for 7 days
# Keep weekly backups for 4 weeks
# Keep monthly backups for 12 months

# Example cleanup script (add to cron):
# 0 4 * * * find /path/to/michela/backend/scripts/backups -name "production_*" -mtime +7 -exec rm -rf {} \;

# ============================================================================
# GitHub Actions Example (Alternative to cron)
# ============================================================================

# See .github/workflows/backup.yml for automated backup via GitHub Actions

# ============================================================================
# Render.com Cron Jobs
# ============================================================================

# Render.com supports cron jobs for automated tasks
# Configure in render.yaml or Render Dashboard

# Example render.yaml cron job:
# - type: cron
#   name: firestore-backup
#   env: python
#   schedule: "0 2 * * *"  # Daily at 2 AM
#   buildCommand: pip install -r requirements.txt
#   startCommand: python scripts/backup_firestore.py --environment production
